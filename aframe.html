<!DOCTYPE html>
<html>
    <head>
        <title>Basic A-frame</title>
        <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
        <script>

var color = document.getElementById('text');
setInterval(function() {
    var randomHexColor = '#'+Math.floor(Math.random()*16777215).toString(16);
    color.setAttribute('text', 'color', randomHexColor);
}, 1000);


AFRAME.registerComponent('set-l', {
    schema: {default: '',
        target   : {type : "selector"},
        position : {type : "string"},
        emit: {default: ''}
    },
    init() {
        const objl = document.getElementById('lef');
        const objc = document.getElementById('cen');
        const objr = document.getElementById('rig');
        this.el.addEventListener('click', () => {
            var animation = document.createElement("a-animation");
            animation.setAttribute("attribute","position");
            animation.setAttribute("to","-2 0 -2");
            animation.setAttribute("dur","500");
            animation.setAttribute("repeat","0");
            objl.appendChild(animation);

            objl.setAttribute('position', {x: -2, y: 0, z: -2});
            objc.setAttribute('position', {x:  0, y: 0, z: -4});
            objr.setAttribute('position', {x:  5, y: 0, z: -4});
        });
    }
});
AFRAME.registerComponent('set-c', {
    schema: {default: ''},
    init() {
        const objl = document.getElementById('lef');
        const objc = document.getElementById('cen');
        const objr = document.getElementById('rig');
        this.el.addEventListener('click', () => {
            var animation = document.createElement("a-animation");
            animation.setAttribute("attribute","position");
            animation.setAttribute("to","0 0 -3");
            animation.setAttribute("dur","500");
            animation.setAttribute("repeat","0");
            objc.appendChild(animation);

            objl.setAttribute('position', {x: -5, y: 0, z: -4});
            objc.setAttribute('position', {x:  0, y: 0, z: -3});
            objr.setAttribute('position', {x:  5, y: 0, z: -4});
        });

    }
});
AFRAME.registerComponent('set-r', {
    schema: {default: ''},
    init() {
        const objl = document.getElementById('lef');
        const objc = document.getElementById('cen');
        const objr = document.getElementById('rig');
        this.el.addEventListener('click', () => {
            var animation = document.createElement("a-animation");
            animation.setAttribute("attribute","position");
            animation.setAttribute("to","2 0 -2");
            animation.setAttribute("dur","500");
            animation.setAttribute("repeat","0");
            objr.appendChild(animation);

            objl.setAttribute('position', {x: -5, y: 0, z: -4});
            objc.setAttribute('position', {x:  0, y: 0, z: -4});
            objr.setAttribute('position', {x:  2, y: 0, z: -2});
        });

    }
});
        </script>
    </head>
    <body>
        <a-scene>
            <a-sky></a-sky>
            <a-camera position="0 0 0">
                <a-cursor color="#4CC3D9" fuse="true" timeout="1"></a-cursor>
            </a-camera>
            <a-plane id="lef" position="-5 0 -4" set-l="lef" rotation="0 45 0" width="4" height="4" color="red">
                <a-entity id="text" 
                          geometry="primitive: plane; width: 4; height: auto" 
                          text="align:left; color: black;  value: This text will be 4 units wide. This text will be 4 units wide.">
                </a-entity>
            </a-plane>
            <a-plane id="cen" position=" 0 0 -4" set-c="cen" rotation="0 0 0" width="4" height="4" color="green"></a-plane>
            <a-plane id="rig" position=" 5 0 -4" set-r="rig" rotation="0 -45 0" width="4" height="4" color="blue"></a-plane>
        </a-scene>

    </body>
</html>
